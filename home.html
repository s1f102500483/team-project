<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <title>Sample HTML</title>
    <link rel="stylesheet" href="css/home.css">
  </head>

  <body>  
    <header> 
      <div class="site-identity"> 
        <h1>INIAD<br>観光同好会</h1> 
      </div> 
      <nav> 
        <ul> 
          <li><a href="#club">同好会情報</a></li> 
          <li><a href="#spot">観光地</a></li> 
          <li><a href="#deal">お得情報</a></li> 
          <li><a href="#column">コラム</a></li> 
        </ul> 
      </nav> 
    </header> 
    <main> 
      <div class="spot-slider">
        <section class="spots"> 
          <a href="./point1.html" class="spot-card"> 
            <img src="images/spot1.jpg" alt="観光地1"> 
            <div class="spot-label">白川郷</div> 
          </a>  
          <a href="./point2.html" class="spot-card"> 
            <img src="./img/kiyomizu1.jpg" alt="観光地2">
            <div class="spot-label">清水寺</div> 
          </a> 
          <a href="./point3.html" class="spot-card">
            <img src="images/spot3.jpg" alt="観光地3"> 
            <div class="spot-label">函館山</div>
          </a>
        </section> 
      </div>
    </main> 
<script>
window.addEventListener('load', () => {
  const spots      = document.querySelector('.spots');
  const cards      = spots.children;       // HTMLCollection
  const CARD_W     = 280;                  // カード幅
  const GAP        = 50;                   // カード間隔
  const STEP       = CARD_W + GAP;         // 1マス分
  const DURATION   = 3000;                 // 3秒ごと
  const TRANS_T    = 0.8;                  // 0.8s（CSS の transition と合わせる）

  let isAnimating = false;

  // ３秒ごとにスクロールスタート
  setInterval(() => {
    if (isAnimating) return;
    isAnimating = true;

    // margin-left を -STEP にして「ぬるり」
    spots.style.marginLeft = `-${STEP}px`;
    // transition は CSS 側で .8s ease 指定済み
  }, DURATION);

  // トランジションが終わったら呼ばれる
  spots.addEventListener('transitionend', () => {
    // 先頭要素を末尾に移動
    spots.appendChild(cards[0]);
    // トランジションをいったんオフ
    spots.style.transition = 'none';
    // margin-left をリセット（見た目はずっと同じ）
    spots.style.marginLeft = '0';
    // 強制リフロー
    void spots.offsetHeight;
    // トランジションを戻す
    spots.style.transition = `margin-left ${TRANS_T}s ease`;
    isAnimating = false;
  });
});
</script>
  </body> 
</html>
